<div class="chat-container">
  <h2>Reenbit Chat App</h2>
  
  <div class="message-list" #messageContainer>
    <div *ngFor="let msg of messages$ | async" 
         class="message-item" 
         [ngClass]="{
          'sent': msg.user === sUser(), 
          'received': msg.user !== sUser(),
          'positive': msg.sentiment === 'positive',
          'negative': msg.sentiment === 'negative',
          'neutral': msg.sentiment === 'neutral',
        }">
         
      <div class="message-header">
        <strong>{{ msg.user }}</strong>
        <!-- <span class="message-sentiment" [ngClass]="msg.sentiment">
          {{ getSentimentEmoji(msg.sentiment) }}
        </span> -->
      </div>
      <div class="message-body">
        {{ msg.text }}
      </div>
      <div class="message-timestamp">
        {{ msg.timesent | date:'HH:mm' }}
      </div>
    </div>
  </div>

  <div class="message-input-area" *ngIf="sUser()">
    <input 
      type="text" 
      class="message-input"
      placeholder="Enter your message..."
      [(ngModel)]="sMessage"
      (keyup.enter)="sendMessage()" />
    <button 
      class="send-button"
      (click)="sendMessage()" 
      [disabled]="!sMessage()">
      Send
    </button>
  </div>
  
  <div class="message-input-area" *ngIf="!sUser()">
    <em class="user-prompt">Please, refresh the page and enter your name.</em>
  </div>
</div>